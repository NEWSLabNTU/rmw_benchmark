// Zenoh configuration with Shared Memory support for Stress Test
//
// This configuration enables:
// - Shared memory transport for high-throughput communication
// - Optimized for large message transfer (images)
// - Suitable for intra-host communication
// - Uses non-default ports to avoid conflicts with planning simulation router

{
  mode: "peer",

  // Shared Memory configuration
  transport: {
    shared_memory: {
      enabled: true,
    },
    unicast: {
      lowlatency: true,
    },
  },

  // Listen on specific port to avoid conflicts
  listen: {
    endpoints: ["tcp/0.0.0.0:7448"],
  },

  // Connect configuration
  connect: {
    endpoints: [],
  },

  // SHM (Shared Memory) configuration
  scouting: {
    multicast: {
      enabled: false,
    },
  },

  timestamping: {
    enabled: true,
  },

  plugins: {
    // Storage plugin for shared memory
    storage_manager: {
      storages: {},
    },

    // REST plugin (optional, for monitoring)
    rest: {
      http_port: 8001,
    },
  },
}
